import{j as e}from"./index-Iai-yUTS.js";import{r as s}from"./router-DP1sdCM0.js";import"./react-gH-7aFTg.js";const u=[{code:"AL",name:"Alabama",links:{dot:"https://www.dot.state.al.us/"},notes:[]},{code:"AK",name:"Alaska",links:{dot:"https://dot.alaska.gov/"},notes:[]},{code:"AZ",name:"Arizona",links:{dot:"https://azdot.gov/"},notes:[]},{code:"AR",name:"Arkansas",links:{dot:"https://www.ardot.gov/"},notes:[]},{code:"CA",name:"California",links:{dot:"https://dot.ca.gov/"},notes:[]},{code:"CO",name:"Colorado",links:{dot:"https://www.codot.gov/"},notes:[]},{code:"CT",name:"Connecticut",links:{dot:"https://portal.ct.gov/DOT"},notes:[]},{code:"DE",name:"Delaware",links:{dot:"https://deldot.gov/"},notes:[]},{code:"FL",name:"Florida",links:{dot:"https://www.fdot.gov/"},notes:[]},{code:"GA",name:"Georgia",links:{dot:"https://www.dot.ga.gov/"},notes:[]},{code:"HI",name:"Hawaii",links:{dot:"https://hidot.hawaii.gov/"},notes:[]},{code:"ID",name:"Idaho",links:{dot:"https://itd.idaho.gov/"},notes:[]},{code:"IL",name:"Illinois",links:{dot:"https://idot.illinois.gov/"},notes:[]},{code:"IN",name:"Indiana",links:{dot:"https://www.in.gov/indot/"},notes:[]},{code:"IA",name:"Iowa",links:{dot:"https://iowadot.gov/"},notes:[]},{code:"KS",name:"Kansas",links:{dot:"https://www.ksdot.gov/"},notes:[]},{code:"KY",name:"Kentucky",links:{dot:"https://transportation.ky.gov/"},notes:[]},{code:"LA",name:"Louisiana",links:{dot:"https://www.dotd.la.gov/"},notes:[]},{code:"ME",name:"Maine",links:{dot:"https://www.maine.gov/mdot/"},notes:[]},{code:"MD",name:"Maryland",links:{dot:"https://www.roads.maryland.gov/"},notes:[]},{code:"MA",name:"Massachusetts",links:{dot:"https://www.mass.gov/orgs/massachusetts-department-of-transportation"},notes:[]},{code:"MI",name:"Michigan",links:{dot:"https://www.michigan.gov/mdot"},notes:[]},{code:"MN",name:"Minnesota",links:{dot:"https://www.dot.state.mn.us/"},notes:[]},{code:"MS",name:"Mississippi",links:{dot:"https://www.gomdot.ms.gov/"},notes:[]},{code:"MO",name:"Missouri",links:{dot:"https://www.modot.org/"},notes:[]},{code:"MT",name:"Montana",links:{dot:"https://www.mdt.mt.gov/"},notes:[]},{code:"NE",name:"Nebraska",links:{dot:"https://dot.nebraska.gov/"},notes:[]},{code:"NV",name:"Nevada",links:{dot:"https://www.nevadadot.com/"},notes:[]},{code:"NH",name:"New Hampshire",links:{dot:"https://www.nh.gov/dot/"},notes:[]},{code:"NJ",name:"New Jersey",links:{dot:"https://www.state.nj.us/transportation/"},notes:[]},{code:"NM",name:"New Mexico",links:{dot:"https://www.dot.nm.gov/"},notes:[]},{code:"NY",name:"New York",links:{dot:"https://www.dot.ny.gov/"},notes:[]},{code:"NC",name:"North Carolina",links:{dot:"https://www.ncdot.gov/"},notes:[]},{code:"ND",name:"North Dakota",links:{dot:"https://www.dot.nd.gov/"},notes:[]},{code:"OH",name:"Ohio",links:{dot:"https://www.transportation.ohio.gov/"},notes:[]},{code:"OK",name:"Oklahoma",links:{dot:"https://oklahoma.gov/odot.html"},notes:[]},{code:"OR",name:"Oregon",links:{dot:"https://www.oregon.gov/odot/"},notes:[]},{code:"PA",name:"Pennsylvania",links:{dot:"https://www.penndot.pa.gov/"},notes:[]},{code:"RI",name:"Rhode Island",links:{dot:"https://dot.ri.gov/"},notes:[]},{code:"SC",name:"South Carolina",links:{dot:"https://www.scdot.org/"},notes:[]},{code:"SD",name:"South Dakota",links:{dot:"https://dot.sd.gov/"},notes:[]},{code:"TN",name:"Tennessee",links:{dot:"https://www.tn.gov/tdot.html"},notes:[]},{code:"TX",name:"Texas",links:{dot:"https://www.txdot.gov/"},notes:[]},{code:"UT",name:"Utah",links:{dot:"https://udot.utah.gov/"},notes:[]},{code:"VT",name:"Vermont",links:{dot:"https://vtrans.vermont.gov/"},notes:[]},{code:"VA",name:"Virginia",links:{dot:"https://www.virginiadot.org/"},notes:[]},{code:"WA",name:"Washington",links:{dot:"https://wsdot.wa.gov/"},notes:[]},{code:"WV",name:"West Virginia",links:{dot:"https://transportation.wv.gov/"},notes:[]},{code:"WI",name:"Wisconsin",links:{dot:"https://wisconsindot.gov/"},notes:[]},{code:"WY",name:"Wyoming",links:{dot:"https://www.dot.state.wy.us/"},notes:[]}];function y(p,i){try{window.gtag&&window.gtag("event",p,i)}catch{}}function b({onClose:p}){const[i,l]=s.useState(""),[o,c]=s.useState(null);s.useEffect(()=>{const d=new URLSearchParams(window.location.search).get("state")?.toUpperCase();if(d){const r=u.find(n=>n.code===d);r&&c(r)}},[]);const m=s.useMemo(()=>{const t=i.trim().toLowerCase();return t?u.filter(d=>d.name.toLowerCase().includes(t)||d.code.toLowerCase()===t):u},[i]),h=s.useCallback(t=>{c(t),y("state_rules_select",{state:t.code})},[]),a=(t,d)=>`https://www.google.com/search?q=${encodeURIComponent(`${t.name} ${d}`)}`;return e.jsxs("div",{className:"sr-finder",children:[e.jsx("div",{className:"sr-finder-head",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:e.jsx("p",{className:"sr-subtext",children:"Intrastate nuances & enforcement references. Always verify locally."})}),e.jsxs("div",{className:"sr-finder","aria-label":"State rules finder",children:[e.jsxs("div",{className:"sr-controls",children:[e.jsx("input",{className:"sr-input",type:"search",placeholder:"Search state (e.g., Texas or TX)",value:i,onChange:t=>l(t.target.value),"aria-label":"Search state"}),i&&e.jsx("button",{className:"sr-clear",onClick:()=>l(""),"aria-label":"Clear search",children:"Clear"})]}),e.jsx("div",{className:"sr-grid",role:"list",children:m.map(t=>e.jsx("button",{type:"button",className:`sr-state-btn ${o?.code===t.code?"active":""}`,onClick:()=>h(t),"aria-pressed":o?.code===t.code,children:e.jsx("span",{className:"sr-name",children:t.name})},t.code))}),o?e.jsxs("div",{className:"sr-detail",children:[e.jsxs("h3",{children:[o.name," (",o.code,")"]}),e.jsxs("ul",{className:"sr-links",children:[e.jsx("li",{children:e.jsx("a",{href:a(o,"commercial motor vehicle intrastate rules"),target:"_blank",rel:"noopener noreferrer",children:"Intrastate CMV Rules"})}),e.jsx("li",{children:e.jsx("a",{href:a(o,"oversize overweight permits"),target:"_blank",rel:"noopener noreferrer",children:"Oversize / Overweight"})}),e.jsx("li",{children:e.jsx("a",{href:a(o,"commercial vehicle enforcement handbook PDF"),target:"_blank",rel:"noopener noreferrer",children:"Enforcement Handbook"})}),e.jsx("li",{children:e.jsx("a",{href:a(o,"CDL intrastate medical waiver"),target:"_blank",rel:"noopener noreferrer",children:"CDL / Medical Waivers"})})]}),e.jsxs("ul",{className:"sr-notes",children:[e.jsx("li",{children:"Confirm medical, shortâ€‘haul, & weight thresholds differing from federal."}),e.jsx("li",{children:"Direct sources preferred over secondary summaries."})]})]},o.code):e.jsx("p",{className:"sr-empty",children:"Select a state above for quick reference links."})]}),e.jsxs("div",{className:"sr-footer",children:[e.jsx("span",{children:"Draft reference tool"}),e.jsx("span",{"aria-hidden":!0,className:"sr-emoji-truck",children:"ðŸšš"})]})]})}const S=s.forwardRef(function(i,l){const[o,c]=s.useState(!1),m=s.useRef(null),h=s.useRef(null),a=s.useCallback(()=>c(!1),[]),t=s.useCallback(()=>c(!0),[]);s.useImperativeHandle(l,()=>({open:t,close:a})),s.useEffect(()=>{if(o){const r=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=r}}},[o]),s.useEffect(()=>{if(!o)return;const r=n=>{if(n.key==="Escape"){n.preventDefault(),a();return}if(n.key==="Tab"){const v=h.current;if(!v)return;const g=v.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),w=Array.from(g).filter(x=>!x.hasAttribute("disabled"));if(!w.length)return;const f=w[0],k=w[w.length-1];n.shiftKey&&document.activeElement===f?(n.preventDefault(),k.focus()):!n.shiftKey&&document.activeElement===k&&(n.preventDefault(),f.focus())}};return window.addEventListener("keydown",r),setTimeout(()=>{const n=h.current?.querySelector("button");n&&n.focus()},0),()=>window.removeEventListener("keydown",r)},[o,a]);const d=r=>{r.target===m.current&&a()};return o?e.jsx("div",{className:"sr-overlay",ref:m,onMouseDown:d,role:"presentation",children:e.jsxs("div",{className:"sr-drawer",role:"dialog","aria-modal":"true","aria-label":"State-by-State FMCSA Rules finder",ref:h,children:[e.jsxs("header",{className:"sr-drawer-head",children:[e.jsx("h2",{children:"State-by-State FMCSA Rules"}),e.jsx("button",{type:"button",className:"sr-close-footer",onClick:a,"aria-label":"Close state rules drawer",children:"Close"})]}),e.jsx("div",{className:"sr-drawer-body",children:e.jsx(b,{onClose:a})})]})}):null});export{S as default};
